{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MBAIORBE II\\\\Desktop\\\\projet japhet\\\\client\\\\src\\\\pages\\\\Produits.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getId, getProduitsForClient } from '../redux/actions/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction NavBar() {\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"navbar navbar-light bg-primary\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"navbar-brand text-light mx-4\",\n        children: \"Barber-shop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"d-flex mx-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control me-2\",\n          type: \"search\",\n          placeholder: \"Search\",\n          \"aria-label\": \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 12,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-light\",\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 9\n  }, this);\n}\n\n_c = NavBar;\n\nfunction CardsProduits() {\n  _s();\n\n  const [valueOption, setValueOption] = useState(\"10:00\");\n  const dispatch = useDispatch();\n  const state = useSelector(state => state);\n  console.log(typeof state.getIdProduit);\n  const [key, setKey] = useState(\"\");\n\n  const setIdcookie = id => {\n    console.log(id);\n    axios({\n      method: \"post\",\n      withCredentials: true,\n      url: `${process.env.REACT_APP_PORT}/api/set/produit`,\n      data: {\n        id\n      }\n    }).then(user => {\n      return user;\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    dispatch(getId());\n  }, [key]);\n\n  const sendMail = (picture, prix, email, name) => {\n    try {\n      axios({\n        method: 'POST',\n        url: `${process.env.REACT_APP_PORT}/mail/send`,\n        withCredentials: true,\n        data: {\n          prix,\n          picture,\n          heure: valueOption,\n          email,\n          name\n        }\n      }).then(user => {\n        console.log(\"send\");\n      }).catch(err => console.log(err));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const [sended, setsended] = useState(true);\n  const [nameClien, setNameClien] = useState(\"\");\n  const card = state.getProduct.map((user, key) => {\n    if (user) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title bg-primary number text-light\",\n            children: key\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body card-body-img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.picture,\n            className: \"pr_img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-footer footer-img\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"Prix : \", user.prix]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setIdcookie(user._id);\n              setKey(key);\n            },\n            className: \"\",\n            \"data-bs-toggle\": \"offcanvas\",\n            \"data-bs-target\": \"#offcanvasRight\",\n            \"aria-controls\": \"offcanvasRight\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-cart-plus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"offcanvas offcanvas-end\",\n          tabindex: \"-1\",\n          id: \"offcanvasRight\",\n          \"aria-labelledby\": \"offcanvasRightLabel\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"offcanvas-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              id: \"offcanvasRightLabel\",\n              children: \"Envoyer le RV\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-close text-reset\",\n              \"data-bs-dismiss\": \"offcanvas\",\n              \"aria-label\": \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"offcanvas-body \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: state.getIdProduit === \"object\" && state.getIdProduit.picture,\n                className: \"pr_img_rv\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"mt-3 mb-3 form-label\",\n                  children: [\"Prix : \", state.getIdProduit === \"object\" && state.getIdProduit.prix]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-simple\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Heure\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select\",\n                  \"aria-label\": \"Default select example\",\n                  value: valueOption,\n                  onChange: e => setValueOption(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"10:00\",\n                    selected: true,\n                    children: \"10:00\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"11:00\",\n                    children: \"11:00\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"12:00\",\n                    children: \"12:00\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"13:00\",\n                    children: \"13:00\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"14:00\",\n                    children: \"14:00\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"15:00\",\n                    children: \"15:00\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"16:00\",\n                    children: \"16:00\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Votre nom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: nameClien,\n                  onChange: e => setNameClien(e.target.value),\n                  type: \"text\",\n                  className: \"form-control mb-3\",\n                  placeholder: \"votre nom ...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"offcanvas-footer center mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"edit\",\n              onClick: async () => {\n                if (typeof state.getDataForClient[0] === \"object\") {\n                  await sendMail(state.getIdProduit.picture, state.getIdProduit.prix, state.getDataForClient[0].email, nameClien);\n                  setsended(!sended);\n                } else {\n                  console.log(\"error\");\n                }\n              },\n              children: sended ? /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-paper-plane\",\n                children: \" Envoyer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 38\n              }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"far fa-check-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-card\",\n    children: card\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CardsProduits, \"U60w25XxERFcHOqd3aPLYqFSQ8o=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c2 = CardsProduits;\nexport default function Produits() {\n  _s2();\n\n  const dispatch = useDispatch();\n  useEffect(async () => {\n    await dispatch(getProduitsForClient());\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CardsProduits, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(Produits, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n  return [useDispatch];\n});\n\n_c3 = Produits;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"NavBar\");\n$RefreshReg$(_c2, \"CardsProduits\");\n$RefreshReg$(_c3, \"Produits\");","map":{"version":3,"sources":["C:/Users/MBAIORBE II/Desktop/projet japhet/client/src/pages/Produits.js"],"names":["axios","React","useEffect","useState","useDispatch","useSelector","getId","getProduitsForClient","NavBar","CardsProduits","valueOption","setValueOption","dispatch","state","console","log","getIdProduit","key","setKey","setIdcookie","id","method","withCredentials","url","process","env","REACT_APP_PORT","data","then","user","catch","err","sendMail","picture","prix","email","name","heure","error","sended","setsended","nameClien","setNameClien","card","getProduct","map","_id","e","target","value","getDataForClient","Produits"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getId, getProduitsForClient } from '../redux/actions/actions'\r\n\r\nfunction NavBar() {\r\n    return (\r\n        <nav className=\"navbar navbar-light bg-primary\">\r\n            <div className=\"container-fluid\">\r\n                <a className=\"navbar-brand text-light mx-4\">Barber-shop</a>\r\n                <form className=\"d-flex mx-4\">\r\n                    <input className=\"form-control me-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" />\r\n                    <button className=\"btn btn-outline-light\" type=\"submit\">Search</button>\r\n                </form>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nfunction CardsProduits() {\r\n    const [valueOption, setValueOption]= useState(\"10:00\")\r\n    const dispatch = useDispatch()\r\n    const state = useSelector(state => state)\r\n    console.log(typeof(state.getIdProduit))\r\n    const [key, setKey] = useState(\"\")\r\n    const setIdcookie = (id) => {\r\n        console.log(id)\r\n        axios({\r\n            method: \"post\",\r\n            withCredentials: true,\r\n            url: `${process.env.REACT_APP_PORT}/api/set/produit`,\r\n            data: {\r\n                id\r\n            }\r\n        }).then((user) => {\r\n            return user\r\n        })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            })\r\n    }\r\n    useEffect(() => {\r\n        dispatch(getId())\r\n    }, [key])\r\n\r\n    const sendMail = (picture, prix, email ,name ) => {\r\n          try {\r\n              axios({\r\n                  method: 'POST',\r\n                  url: `${process.env.REACT_APP_PORT}/mail/send`,\r\n                  withCredentials: true,\r\n                  data: {\r\n                      prix, picture,heure:valueOption, email,name,\r\n                    }\r\n                }).then(user => {\r\n                    console.log(\"send\")\r\n                }).catch(err => console.log(err))\r\n            } catch (error) {\r\n                console.log(error)\r\n            }  \r\n    }\r\n    const [sended, setsended]= useState(true)\r\n    const [nameClien, setNameClien]= useState(\"\")\r\n\r\n    const card = state.getProduct.map((user, key) => {\r\n        if (user) {\r\n            return (\r\n                <div key={key} className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <h5 className=\"card-title bg-primary number text-light\">{key}</h5>\r\n                    </div>\r\n                    <div className=\"card-body card-body-img\">\r\n                        <img src={user.picture} className=\"pr_img\" />\r\n\r\n                    </div>\r\n                    <div className=\"card-footer footer-img\">\r\n                        <h6>Prix : {user.prix}</h6>\r\n                        <button onClick={() => { setIdcookie(user._id); setKey(key) }} className=\"\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#offcanvasRight\" aria-controls=\"offcanvasRight\">\r\n                            <i className=\"fas fa-cart-plus\"></i>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"offcanvas offcanvas-end\" tabindex=\"-1\" id=\"offcanvasRight\" aria-labelledby=\"offcanvasRightLabel\">\r\n                        <div className=\"offcanvas-header\">\r\n                            <h5 id=\"offcanvasRightLabel\">Envoyer le RV</h5>\r\n                            <button type=\"button\" className=\"btn-close text-reset\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n                        </div>\r\n\r\n                        <div className=\"offcanvas-body \">\r\n                            <div className=\"card card-body\">\r\n                                <img src={state.getIdProduit===\"object\" && state.getIdProduit.picture} className=\"pr_img_rv\" />\r\n                                <div>\r\n                                    <label className=\"mt-3 mb-3 form-label\">Prix : {state.getIdProduit===\"object\" &&state.getIdProduit.prix}</label>\r\n                                <div className=\"flex-simple\">\r\n                                </div>\r\n                                <label className=\"form-label\">Heure</label>\r\n                                    <select className=\"form-select\" \r\n                                    aria-label=\"Default select example\" \r\n                                    value={valueOption} onChange={(e)=>setValueOption(e.target.value)}>\r\n                                        <option value=\"10:00\" selected>10:00</option>\r\n                                        <option value=\"11:00\">11:00</option>\r\n                                        <option value=\"12:00\">12:00</option>\r\n                                        <option value=\"13:00\">13:00</option>\r\n                                        <option value=\"14:00\">14:00</option>\r\n                                        <option value=\"15:00\">15:00</option>\r\n                                        <option value=\"16:00\">16:00</option>\r\n                                      \r\n                                    </select>\r\n                                </div>\r\n                                <div>\r\n                                <label className=\"form-label\">Votre nom</label>\r\n                                <input value={nameClien} onChange={(e)=>setNameClien(e.target.value)} type=\"text\" className=\"form-control mb-3\" placeholder=\"votre nom ...\"/>\r\n                                </div>\r\n                                </div>\r\n                        </div>\r\n                        <div className=\"offcanvas-footer center mb-4\">\r\n                            <button className=\"edit\"\r\n                                onClick={async() => {\r\n                                    if(typeof(state.getDataForClient[0])===\"object\"){\r\n                                        await sendMail(state.getIdProduit.picture,\r\n                                                  state.getIdProduit.prix,\r\n                                                  state.getDataForClient[0].email,\r\n                                                  nameClien\r\n                                                  )\r\n                                         setsended(!sended)   \r\n                                    }else{\r\n                                        console.log(\"error\")\r\n                                    }\r\n                                }}>\r\n                                    {sended ?\r\n                                    (<i className=\"fas fa-paper-plane\"> Envoyer</i>) :\r\n                                    <i class=\"far fa-check-circle\"></i>}\r\n                                 </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    })\r\n\r\n\r\n    return (\r\n        <div className=\"flex-card\">\r\n            {card}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default function Produits() {\r\n    const dispatch = useDispatch()\r\n    useEffect(async () => {\r\n        await dispatch(getProduitsForClient())\r\n    }, [])\r\n    return (\r\n        <div>\r\n            <NavBar />\r\n            <CardsProduits />\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}